import numpy as np

# numpy:ç”¨äºé«˜æ€§èƒ½ç§‘å­¦è®¡ç®—å’Œæ•°æ®åˆ†æï¼Œå¸¸ç”¨çš„é«˜çº§æ•°æ®åˆ†æåº“çš„åŸºç¡€åŒ…
# æ•°ç»„ä¸æ•°æ®ç±»å‹ï¼Œæ ¹æ®è¾“å…¥æ•°æ®çš„ç±»å‹è‡ªåŠ¨è¿›è¡Œè½¬æ¢
arr1 = np.array([2, 3, 4])      # ç»è¿‡numpyå°è£…ï¼Œè®¡ç®—æ•ˆç‡è¦é«˜äºpythonè‡ªå¸¦çš„åˆ—è¡¨
print(arr1)                     # [2 3 4]
print(arr1.dtype)               # int32

arr2 = np.array([1, 3.2, 5.9])
print(arr2)                     # [1.  3.2 5.9]
print(arr2.dtype)               # float64

arr3 = arr1 + arr2                # åˆ—è¡¨ç›¸åŠ 
print(arr3)                       # [3.  6.2 9.9]

# ä¸æ ‡é‡çš„è®¡ç®—ï¼Œæ ‡é‡æŒ‡çš„æ˜¯ç‰©ç†ä¸­çš„æ¦‚å¿µï¼Œæœ‰å¤§å°æ²¡æœ‰æ–¹å‘çš„æ•°æ®ï¼Œå¦‚æ¸©åº¦ã€ä½“ç§¯ã€è´¨é‡ç­‰éƒ½å±äºæ ‡é‡
arr4 = arr1 * 9.3                 # æ— éœ€éå†å¾ªç¯ï¼Œç›´æ¥è®¡ç®—
print(arr4)                       # [18.6 27.9 37.2]

# å®šä¹‰å¤šç»´æ•°ç»„ï¼Œå¦‚äºŒç»´æ•°ç»„ï¼Œåˆç§°ä¸ºçŸ©é˜µ
data = [[1, 2, 3], [4, 5, 6]]     # åˆ—è¡¨åµŒå¥—
print(data)                       # [[1, 2, 3], [4, 5, 6]]
arr5 = np.array(data)             # å°†åˆ—è¡¨è½¬æ¢ä¸ºnumpyçš„æ•°ç»„å½¢å¼
print(arr5)                       
'''
[[1 2 3]
 [4 5 6]]
'''

# äºŒç»´æ•°ç»„æ›´æ”¹æ•°ç»„å…ƒç´ :
ar1 = np.array([[3, 9, 10], [6, 8, 1], [4, 8, 2]])
ar1[1,2] = 29      # [1,2]è¡¨ç¤ºç¬¬1ä¸ªæ•°ç»„ç¬¬2ä¸ªå…ƒç´ ï¼Œå³ç¬¬1è¡Œç¬¬2åˆ—
print(ar1)
'''
[[ 3  9 10]
 [ 6  8 29]
 [ 4  8  2]]
'''
ar1[0:2,1:3] = 0
print(ar1)
'''
[[3 0 0]
 [6 0 0]
 [4 8 2]]
'''
# æŸ¥è¯¢æ•°ç»„å½¢çŠ¶
print(ar1.shape)      # (3, 3)

# å®šä¹‰å…¨éƒ¨ä¸º0çš„æ•°ç»„
print(np.zeros(5))    # ä¸€ç»´æ•°ç»„ï¼Œæ‹¬å·å†…æ˜¯æ•°ç»„çš„é•¿åº¦    [0. 0. 0. 0. 0.]
print(np.zeros((2,3)))  # äºŒç»´æ•°ç»„ï¼Œ2è¡Œ3åˆ—ï¼Œä»¥å…ƒç»„å½¢å¼å†™æˆ(2,3)
'''
[[0. 0. 0.]
 [0. 0. 0.]]
'''
# np.ones()å®šä¹‰å…ƒç´ å…¨éƒ¨ä¸º1çš„æ•°ç»„ï¼Œnp.empty()å®šä¹‰ç©ºçš„æ•°ç»„ï¼Œç”¨æ³•åŒnp.zeros()
print(np.empty((3,2,2)))    # ä¸‰ç»´çŸ©é˜µ,è™½ç„¶è®¾ç½®ä¸ºç©ºï¼Œä½†çŸ©é˜µç©ºå€¼å¯¹ç¨‹åºè®¡ç®—æ˜¯ä¸å®‰å…¨çš„ï¼Œå› æ­¤ä¼šå¡«å……éšæœºå€¼
'''
[[[2.59966340e-276 1.29062229e-306]
  [8.34441742e-308 1.69118923e-306]]

 [[3.72400224e-265 2.86413206e-308]
  [9.57872064e-304 1.04786979e-250]]

 [[3.01177098e-154 7.29290379e-304]
  [7.77178018e-299 1.03615406e+304]]]
'''

'''
è¿ç»­æ•°ç»„åˆ›å»ºï¼š
    np.arange(start, stop, step)      ä¸å«stop
    np.linspace(start, stop, num=50, endpoint=True)    endpoint=Trueï¼Œé»˜è®¤åŒ…å«stop,è‹¥æƒ³ä¸åŒ…å«,å¯æ”¹ä¸ºFalseï¼›numä¸ºå…ƒç´ ä¸ªæ•°,é»˜è®¤50
    arange()ä¹Ÿå¯ä»¥åˆ›å»ºæµ®ç‚¹æ•°çš„æ•°ç»„
    linspace()é»˜è®¤ä¸ºæµ®ç‚¹æ•°
'''
a = np.linspace(1, 9, 5)
b = np.arange(1, 10, 2)
print(a)                       #  [1. 3. 5. 7. 9.]
print(a.dtype)                 #  float64
print(b)                       #  [1 3 5 7 9]
print(b.dtype)                 #  int32
# æŸ¥è¯¢æ•°ç»„å¤§å°
print(a.size)                    # 5
print(np.size(b))                # 5

# numpyæ•°ç»„çš„ç´¢å¼•å’Œåˆ‡ç‰‡,è¿™é‡Œçš„åˆ‡ç‰‡å¦‚æœæ˜¯å–èŒƒå›´ï¼Œå¦‚[1:5]ï¼Œä¸åŒ…å«å³è¾¹çš„ä¸´ç•Œå€¼
print(np.arange(6))            # [0 1 2 3 4 5]
print(np.arange(6)[3])         # 3
print(np.arange(6)[1:5])       # [1 2 3 4]
ar = np.arange(6)
ar[0] = 9                        # å¯ä»¥é€šè¿‡ç´¢å¼•ç›´æ¥èµ‹å€¼ï¼Œæ¥æ”¹å˜æ•°ç»„çš„å€¼
ar[2:4] = 7                      
print(ar)                        # [9 1 7 7 4 5]

# æƒ³è¦æ”¹å˜æ•°ç»„çš„å€¼ï¼Œä½†åˆä¸æƒ³åŸæ•°ç»„çš„å€¼è¢«æ”¹åŠ¨
ar_r = ar.copy()                 # å°†åŸæ•°ç»„copyåˆ°æ–°æ•°ç»„
ar_r[:] = 10                     # [:]è¡¨ç¤ºä»ç¬¬ä¸€ä¸ªåˆ°æœ€åä¸€ä¸ª
print(ar_r)                      # [10 10 10 10 10 10]

'''
numpyä¸­çš„ç®—æœ¯è¿ç®—ï¼š
    np.add()            åŠ 
    np.subtract()       å‡
    np.multiply()       ä¹˜
    np.divide()         é™¤
    np.power()          ä¹˜æ–¹
    np.remainder()      æ±‚ä½™        æˆ–np.mod()
    np.sum()            æ±‚å’Œ
'''
a = np.array([1, 2, 5, 8, 4])
b = np.arange(1, 10, 2)
print(a,'\n',b)
print(np.sum(a))                           # 20                         
print(np.add(a, b))                        # [ 2  5 10 15 13]         åŒprint(a+b)
print(np.add(a, 1))                        # [2 3 6 9 5]              åŒprint(a+1) 
print(np.subtract(a, b))                   # [ 0 -1  0  1 -5]         åŒprint(a-b)
print(np.multiply(a, b))                   # [ 1  6 25 56 36]         åŒprint(a*b)
print(np.divide(b, 2))                     # [0.5 1.5 2.5 3.5 4.5]    åŒprint(a/b)
print(np.power(a, 2))                      # [ 1  4 25 64 16]         åŒprint(a ** 2)
print(np.remainder(a, b))                  # [0 2 0 1 4]              åŒprint(a % b)      
print(np.mod(a, b))                        # [0 2 0 1 4]

'''
ç»Ÿè®¡å‡½æ•°
'''
# è®¡ç®—æ•°ç»„/çŸ©é˜µä¸­çš„æœ€å¤§å€¼amax()ï¼Œæœ€å°å€¼amin()
ar2 = np.array([[2, 3, 7, 4], [8, 3, 6, 1], [5, 9, 4, 0]])
print(ar2)
'''
[[2 3 7 4]
 [8 3 6 1]
 [5 9 4 0]]
'''
print(np.amax(ar2))                        # 9
print(np.amin(ar2, 0))                     # [2 3 4 0]   amin(ar2, 0)ä¸­ï¼Œ0è¡¨ç¤ºaxis=0,è½´0è¡¨ç¤ºçºµå‘ï¼Œå¯ä»¥ç†è§£ä¸ºçŸ©é˜µä¸­çš„åˆ—
print(np.amax(ar2, 1))                     # [7 8 9]     axis=1,è½´1è¡¨ç¤ºæ¨ªå‘ï¼Œå¯ä»¥ç†è§£ä¸ºçŸ©é˜µä¸­çš„è¡Œ

# è®¡ç®—æœ€å¤§å€¼ä¸æœ€å°å€¼ä¹‹å·®ptp()
print(np.ptp(ar2))                           # 9        ä¸æŒ‡å®šè½´ï¼Œåˆ™å°†äºŒç»´æ•°ç»„å±•å¹³ï¼Œè®¡ç®—å±•å¹³åçš„æœ€å¤§å€¼ä¸æœ€å°å€¼ä¹‹å·®
print(np.ptp(ar2, 0))                        # [6 6 3 4]    axis=0è®¡ç®—çºµå‘ï¼›åŒç†ï¼Œaxis=1è®¡ç®—æ¨ªå‘

'''
ç»Ÿè®¡æ•°ç»„ä¸­çš„ä¸­ä½æ•°median()ï¼Œå¹³å‡æ•°mean()
    ä¸­ä½æ•°:æŒ‰é¡ºåºæ’åœ¨ä¸­é—´ä½ç½®çš„æ•°ã€‚å¦‚æœæ ·æœ¬æ˜¯å¶æ•°ä¸ªï¼Œåˆ™å–æ’åœ¨ä¸­é—´çš„ä¸¤ä¸ªæ•°å€¼çš„å¹³å‡æ•°ä½œä¸ºä¸­ä½æ•°
'''
print(np.median(ar2))                         # 4.0
print(np.median(ar2, 1))                      # [3.5 4.5 4.5]  
print(np.mean(ar2))                           # 4.333333333333333
print(np.mean(ar2, 0))                        # [5.         5.         5.66666667 1.66666667]

'''
åŠ æƒå¹³å‡å€¼ï¼šå°†å„æ•°å€¼ä¹˜ä»¥ç›¸åº”çš„æƒæ•°ï¼Œç„¶åæ±‚å’Œå¾—åˆ°æ€»ä½“å€¼ï¼Œå†é™¤ä»¥æ€»çš„å•ä½æ•°ã€‚æ—¥å¸¸ç”Ÿæ´»ä¸­ä¸€èˆ¬æ‰€è¯´çš„æƒé‡å°±æ˜¯æŒ‡çš„æƒæ•°ã€‚
åŠ æƒå¹³å‡å€¼=å„æ•°å€¼ä¹˜ä»¥å„è‡ªçš„æƒæ•°/æƒæ•°ä¹‹å’Œ
'''
ar3 = np.array([[3, 9, 2], [6, 8, 4]])
w = np.array([[2, 3, 4], [1, 7, 2]])               # å‡è®¾æƒé‡æ˜¯wï¼Œæ³¨æ„æƒæ•°å½¢çŠ¶è¦ä¸æ•°ç»„ä¸€è‡´
print(np.average(ar3))                             # æ­¤æ—¶å°†æ•°ç»„å±•å¹³å¤„ç†ï¼Œä¸”é»˜è®¤æƒæ•°å‡ä¸º1
print(np.average(ar3, 0))                          # æŒ‰ç…§axis=0è®¡ç®—ï¼Œé»˜è®¤æƒæ•°å‡ä¸º1ï¼š[4.5 8.5 3. ]
print(np.average(ar3, 1, weights=w))               # æŒ‰ç…§axis=1è®¡ç®—ï¼š[4.55555556 7.        ]

'''
æ–¹å·®var()   æ ‡å‡†å·®std()
æ ‡å‡†å·®èƒ½åæ˜ ä¸€ä¸ªæ•°æ®é›†çš„ç¦»æ•£ç¨‹åº¦ã€‚å¹³å‡æ•°ç›¸åŒçš„ä¸¤ç»„æ•°æ®ï¼Œæ ‡å‡†å·®æœªå¿…ç›¸åŒã€‚ä¸€ç»„æ•°æ®å¹³å‡å€¼åˆ†æ•£ç¨‹åº¦çš„ä¸€ç§åº¦é‡

ç¦»å‡å·®ï¼šå„æ•°å€¼ä¸å¹³å‡æ•°ä¹‹å·®çš„å’Œï¼Œå’Œè¶Šå¤§ç¦»æ•£ç¨‹åº¦è¶Šå¤§ã€‚å› ä¸ºå…¶æœ‰æ­£è´Ÿï¼Œå­˜åœ¨è¯¯å·®ï¼Œä¸€èˆ¬å–ç»å¯¹å€¼ï¼Œ
        å³|å„æ•°å€¼ä¸å‡å€¼ä¹‹å·®|çš„å’Œï¼›å¸¸ç”¨çš„æ–¹æ³•æ˜¯å–å¹³æ–¹ï¼Œï¼ˆå„æ•°å€¼ä¸å‡å€¼ä¹‹å·®ï¼‰çš„å¹³æ–¹çš„å’Œï¼Œå³ç¦»å‡å·®å¹³æ–¹å’Œã€‚
ğŸ‘‡
æ–¹å·®ï¼šç¦»å‡å·®å¹³æ–¹å’Œä¸æ ·æœ¬ä¸ªæ•°æœ‰å…³ï¼Œä¸ºäº†æ¶ˆé™¤ä¸ªæ•°çš„å½±å“ï¼Œå¯¹ç¦»å‡å·®å¹³æ–¹å’Œæ±‚å¹³å‡å€¼ï¼Œè¿™ä¹Ÿå°±æ˜¯æ–¹å·®ã€‚
ğŸ‘‡
æ ‡å‡†å·®ï¼šå› ä¸ºæ–¹å·®æ˜¯æ•°æ®çš„å¹³æ–¹ï¼Œéš¾ä»¥ç›´è§‚è¡¡é‡ï¼Œæ•…å¸¸ç”¨æ–¹å·®å¼€æ ¹å·æ¢ç®—å›æ¥ï¼Œè¿™å°±æ˜¯æ ‡å‡†å·®ã€‚

è‡ªç”±åº¦ï¼šæ ·æœ¬é‡è¶Šå¤§è¶Šèƒ½åæ˜ çœŸå®çš„æƒ…å†µï¼Œè€Œç®—æœ¯å¹³å‡å€¼å´å®Œå…¨å¿½ç•¥äº†è¿™ä¸ªé—®é¢˜ï¼Œå¯¹æ­¤ç»Ÿè®¡å­¦ä¸Šæ—©æœ‰è€ƒè™‘ï¼Œ
        åœ¨ç»Ÿè®¡å­¦ä¸­æ ·æœ¬çš„å‡å·®å¤šæ˜¯é™¤ä»¥è‡ªç”±åº¦ï¼ˆn-1ï¼‰ï¼Œå®ƒçš„æ„æ€æ˜¯æ ·æœ¬èƒ½è‡ªç”±é€‰æ‹©çš„ç¨‹åº¦ã€‚
        å½“é€‰åˆ°åªå‰©ä¸€ä¸ªæ—¶ï¼Œå®ƒä¸å¯èƒ½å†æœ‰è‡ªç”±äº†ï¼Œæ‰€ä»¥è‡ªç”±åº¦æ˜¯n-1ã€‚

æ ‡å‡†è¯¯ï¼šæŠ½æ ·å­˜åœ¨çš„è¯¯å·®ï¼Œä¸€ä¸ªæ€»ä½“å¯ä»¥æŠ½å–å‡ºæ— æ•°å¤šç§æ ·æœ¬ï¼Œä»£è¡¨æ ·æœ¬å¹³å‡æ•°ä¸æ€»ä½“å¹³å‡æ•°çš„è¯¯å·®ã€‚
        æ ‡å‡†è¯¯=æ ·æœ¬çš„æ ‡å‡†å·®/æ ·æœ¬å®¹é‡çš„å¼€å¹³æ–¹
å—æ ·æœ¬é‡å½±å“ï¼Œæ ·æœ¬é‡è¶Šå¤§ï¼Œæ ‡å‡†è¯¯è¶Šå°ï¼Œåˆ™æŠ½æ ·è¯¯å·®å°±è¶Šå°ï¼Œè¡¨ç¤ºæŠ½å–çš„æ ·æœ¬èƒ½è¾ƒå¥½åœ°ä»£è¡¨æ€»ä½“ã€‚
'''
print('%.2f'%np.var(ar3))             # 6.56        å±•å¹³å¤„ç†ï¼Œä¸ºæ–¹ä¾¿è§‚çœ‹ï¼Œæ§åˆ¶æµ®ç‚¹æ•°ï¼Œä¿ç•™2ä½å°æ•°
print(np.var(ar3, 0))                   # [2.25 0.25 1.  ]          size>1ï¼Œæ— æ³•é‡‡ç”¨ä¸Šé¢çš„æ–¹å¼è¿›è¡Œæ ¼å¼åŒ–è¾“å‡º
print(np.std(ar3, 1))                   # [3.09120617 1.63299316]

'''
numpyä¸­çš„æ’åºï¼šsort(arrayname,axis,kind,order)
    axisé»˜è®¤ä¸º-1ï¼Œæ²¿æœ€åä¸€ä¸ªè½´æ’åºã€‚ä¹Ÿå¯ä»¥æŒ‡å®šè½´ã€‚å¦‚æœæ˜¯Noneï¼Œåˆ™æŒ‰æ‰å¹³åŒ–æ’åºã€‚
    kind ç§ç±»ï¼š'quicksort'ã€'mergesort'ã€'heapsort'ã€'stable'ï¼Œå¯é€‰æ’åºç®—æ³•ã€‚
                é»˜è®¤å€¼ä¸ºâ€œå¿«é€Ÿæ’åºâ€ã€‚ ï¼ˆå¿«é€Ÿæ’åºï¼›åˆå¹¶æ’åºï¼›å †æ’åºï¼›stableï¼‰
    orderï¼Œå¯ä»¥å¯¹ç»“æ„åŒ–æ•°ç»„æŒ‡å®šæŒ‰ç…§æŸä¸ªå­—æ®µæ’åºã€‚
'''
ar4 = np.array([[3, 9, 10, 2],[4, 12, 5, 0],[18, 7, 6, 1]])
print(ar4)
print(np.sort(ar4))
'''
[[ 2  3  9 10]
 [ 0  4  5 12]
 [ 1  6  7 18]]
'''
print(np.sort(ar4, axis=None))              # [ 0  1  2  3  4  5  6  7  9 10 12 18]
print(np.sort(ar4, 0))
'''
[[ 3  7  5  0]
 [ 4  9  6  1]
 [18 12 10  2]]
'''

